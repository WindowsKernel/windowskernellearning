# 火哥布置的题目，拆
segdescs = [
    0x0000000000000000,
    0x00cf9b000000ffff,
    0x00cf93000000ffff,
    0x00cffb000000ffff,
    0x00cff3000000ffff,
    0x80008b1e400020ab,
    0x834093f2cc003748,
    0x0040f30000000fff,
    0x0000f2000400ffff,
    0x00cf73000001ffff,
    0x830089f2a0000068,
    0x830089f2a0680068,
    0x0000000000000000,
    0x0000000000000000,
    0x800092b9900003ff,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x850089d1d1c00068,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000000000000,
    0x0000000080b99100,
    0x000092000000ffff,
    0x830098e3997003b2,
    0x000092000000ffff,
    0x0000000080b99108,
    0x0000000080b99110,
    0x0000000080b99118,
    0x0000000080b99120,
    0x0000000080b99128,
    0x0000000080b99130,
    0x0000000080b99138,
    0x0000000080b99140,
    0x0000000080b99148,
    0x0000000080b99150,
    0x0000000080b99158,
    0x0000000080b99160,
    0x0000000080b99168,
    0x0000000080b99170,
    0x0000000080b99178,
    0x0000000080b99180
]

# 输入QWORD，打印结果
def parse(desc):
    b = '{:064b}'.format(desc)
    print('Limit: ',hex(int(b[:16][-4:]+b[32:][-16:],base=2)))
    print('Base: ', hex(int(b[:8]+b[:32][-8:]+b[32:][:16],base=2)))
    print('Type: ', hex(int(b[20:24],base=2)))
    print('P : ',b[16])
    print('DPL : ', int(b[17:19],base=2))
    print('S: ', b[19])
    print('G: ', b[8])
    print('D/B: ', b[9])
    print('保留位: ', b[10])
    print('AVL: ', b[11])
    print('-'*100)

for desc in segdescs:
    s = '{:016x}'.format(desc)
    if s == '0000000000000000':
        continue
    s = s[0:8]+'`'+s[8:16]
    print(s)
    parse(desc)

# parse(0x00cffb00_0000ffff)